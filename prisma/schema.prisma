// Medical Consultation System - Universal Schema
// Works with both PostgreSQL (Vercel) and SQLite (local development)

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}

model Consultation {
  id                 Int      @id @default(autoincrement())
  
  // Patient Information
  name               String
  age                Int?
  gender             String?
  phone              String?
  height             Float?    // height in cm
  weight             Float?    // weight in kg
  bmi                Float?    // body mass index
  
  // Complaints
  complaints         String?
  
  // Examinations (checkboxes)
  examination_oglyad   Boolean  @default(false)
  examination_analyses Boolean  @default(false)
  examination_ekg      Boolean  @default(false)
  examination_xray     Boolean  @default(false)
  examination_uzi      Boolean  @default(false)
  examination_kt       Boolean  @default(false)
  examination_mrt      Boolean  @default(false)
  
  // Medical History
  has_chronic_diseases Boolean @default(false)
  chronic_diseases     String?
  takes_medications    Boolean @default(false)
  medications          String?
  pain_scale           Int?
  has_allergies        Boolean @default(false)
  allergies            String?
  
  // Comments
  additional_comments  String?
  
  // System fields
  createdAt          DateTime @default(now())
}